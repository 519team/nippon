(function(f,j,d){var k="roistat_visit",n="roistat_first_visit",q="roistat_is_need_listen_requests",e="roistat_visit_cookie_expire",c="1209600",h={expires:parseInt(c),path:"/"},l={expires:10*365*24*60*60,path:"/"};var i=function(t){try{return decodeURIComponent(t)}catch(u){var s;s=g(t);if(s===null){return t}return s}};var g=function(w){var v={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var t="";var u=0;while(u<w.length){var s=w.substring(u,u+3);if(Object.prototype.hasOwnProperty.call(v,s)){t+=v[s];u+=3}else{t+=w.substring(u,u+1);u++}}try{return decodeURIComponent(t)}catch(x){return null}};var r,m;r=f.roistatGetCookie=function(s){var t=j.cookie.match(new RegExp("(?:^|; )"+s.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?i(t[1]):d};m=f.roistatSetCookie=function(v,x,u){u=u||{};var t=u.expires;if(typeof t=="number"&&t){var z=new Date();z.setTime(z.getTime()+t*1000);t=u.expires=z}if(t&&t.toUTCString){u.expires=t.toUTCString()}x=encodeURIComponent(x);var s=v+"="+x;for(var w in u){s+="; "+w;var y=u[w];if(y!==true){s+="="+y}}j.cookie=s};if(f.roistatCookieDomain){h.domain=f.roistatCookieDomain;l.domain=f.roistatCookieDomain}var p={isAvailable:function(){var s=false;if(!f.localStorage||!f.localStorage.setItem||!f.localStorage.getItem||!f.localStorage.removeItem){return s}try{f.localStorage.setItem("testKey","testValue");s=f.localStorage.getItem("testKey")==="testValue";f.localStorage.removeItem("testKey")}catch(t){}return s},save:function(t,u,s){if(this.isAvailable()){localStorage.setItem(t,u)}m(t,u,s)},get:function(t){var s=null;if(this.isAvailable()){s=localStorage.getItem(t)}if(s===null){s=r(t)}return s}};var o="1154680";o=parseInt(o)>0?o:0;m(k,o,h);if(!(r(k)>0)){p.save(k,o,h)}if(!(p.get(n)>0)){p.save(n,o,l)}if(!(p.get(e)>0)){p.save(e,c,h)}var b="0";p.save(q,b);var a="0";f.roistatIsInitVisit=!(parseInt(a)>0);f.roistatVisitId=o;f.roistatMetrikaCounterId="29248350"})(window,document,undefined);if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}(function(bA,t,a8){var aW=false,D="110",bX=42,p=bA.roistatHost,ak="0.2",M="1.0",b3="roistat_visit_cookie_expire",bt="roistat_visit",aw="roistat_first_visit",U="roistat_is_need_listen_requests",cq="roistat_phone",aj="roistat_referrer",b6="roistat_marker",aL="roistat_marker_old",b9="roistat_referrer_old",a3="roistat_ab",bP="rs",u="roistat",H="leadhunter_expire",z=5*60*60,a9="roistat_leadHunterEnabled",d=7*24*60*60,bZ={expires:d,path:"/"},N="roistat-promo",W="roistat-phone",s="roistat-phone-country",O="roistat-phone-region",v="roistat-phone-number",cj="roistat-phone-tel",be="country",ap="region",aP="number",bo="tel",k="roistat_call_tracking",E="roistat-js-script",a1="roistat_phone_replacement",aQ="roistat_phone_script_data",bW="roistat-visit-id",ax="roistat_metrika_counter_id",g="roistat_marker_from_referrer",aZ="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",bb="roistat_emailtracking_emails",cl="roistat_proxy_forms",b0="roistat_isMultiDomain",bR=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],bv="roistat_debug",aA="roistat_settings_saved",bG="nocookie",ay=["yandex.ru"],ah="beta_test";var cc=p.replace(/^cloud\./,"");var b7="collector."+cc;var bl={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var bw={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false};var bY={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[]};
if(bA.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}bA.roistatAlreadyStarted=true;if(bA.roistatCookieDomain){bZ.domain=bA.roistatCookieDomain}bA.roistat={version:D,getSource:function(){return bw.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(cv){bw.visitFromUser=cv},registerOnVisitProcessedCallback:function(cv){bM(cv)},registerOnCalltrackingPhoneReceivedCallback:function(cv){aX(cv)},disableCallTracking:function(){bl.callTrackingEnabled=false},setCallTrackingManualMode:function(){bl.callTrackingManual=true},setJSONPRequestTimeout:function(cv){bl.jsonpRequestTimeout=cv},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){o("Warning: used emailtracking refresh before module init")}},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null,},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null,}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]}};var ce=function(cy,cw){var cx=cy.length;for(var cv=0;cv<cx;cv++){if(cw===cy[cv]){return true}}return false};var I=function(){return h(ah)>0};var aD=function(){return bA.roistatProjectId};var bO=function(){return aD().replace(/\D/g,"")};var aS=function(cv){var cw=bO();return ce(cv,cw)};var bT=function(cv){return JSON.parse(JSON.stringify(cv))};var a4=function(){var cw=bT(bZ),cv=parseInt(by.get(b3));cw.expires=cv>0?cv:d;return cw};var bM=function(cv){if(!bw.isVisitProcessed){bY.onVisitProcessed.push(cv)}else{cv()}};var bU=function(){bw.isVisitProcessed=true;o("[Roistat] visit id set. Processing callbacks");var cw=bY.onVisitProcessed.length;for(var cv=0;cv<cw;cv++){bY.onVisitProcessed[cv]()}if(bA.roistatVisitCallback!==a8){bA.roistatVisitCallback(bA.roistat.getVisit())}};var aX=function(cv){bY.onCallTrackingPhoneReceived.push(cv)};var cd=function(){var cw=bY.onCallTrackingPhoneReceived.length;for(var cv=0;cv<cw;cv++){bY.onCallTrackingPhoneReceived[cv]()}};var ac=function ac(cv){bY.onSPAPageChanged.push(cv)};var br=function br(){o("[Roistat] SPA page changed. Processing callbacks");var cw=bY.onSPAPageChanged.length;for(var cv=0;cv<cw;cv++){bY.onSPAPageChanged[cv]()}};var Q=function(cz,cy){var cx=cz.className.split(" "),cw=false,cv;for(cv=0;cv<cx.length;cv++){if(cx[cv]===cy){cw=true;break}}if(!cw){cx.push(cy);cz.className=cx.join(" ")}};var bs=function(cy,cx){var cw=cy.className.split(" "),cv;for(cv=0;cv<cw.length;cv++){if(cw[cv]===cx){cw.splice(cv,1);cy.className=cw.join(" ");break}}};var ag=function(cw){try{return decodeURIComponent(cw)}catch(cx){var cv;cv=q(cw);if(cv===null){return cw}return cv}};var bj={visitor_uid:function(){o("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!cu(bA.AMOPIXEL_IDENTIFIER)||!B(bA.AMOPIXEL_IDENTIFIER.getVisitorUid)){o("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var cv=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!az(cv)){o("AmoCrmUID: visitor_uid value must be a string");return null}return cv}};var ae=function(){for(var cw in bj){var cv=bj[cw]();if(cv===null){continue}ck(cw,cv,bZ)}};var aM=function(){return["_ym_uid","_ga"].concat(w(bj))};var q=function(cz){var cy={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var cw="";var cx=0;while(cx<cz.length){var cv=cz.substring(cx,cx+3);if(Object.prototype.hasOwnProperty.call(cy,cv)){cw+=cy[cv];cx+=3}else{cw+=cz.substring(cx,cx+1);cx++}}try{return decodeURIComponent(cw)}catch(cA){return null}};bA.roistatVersion=D;var a0=["4","860340978620700251","88933311819764676599688","593119171370269","62880344098715348341","8303147622724103110","73866731337432791","44441772369622911005863","928515858827969012118941","362293350474249074106","15824408914062546506955","7350269798732112","06961208046506788662","2532408330029580","215381773260016033586","2863572940308512927",];
var S=["8303147622724103110","955909844195129958233503",];var a2,i,J=aS(a0)||bO()%10===0,af=aS(S),bI=true,bL=t.location.href,aN="",au="",aU=new Date().getTime(),b5=false,bQ=bA.roistatPhonePrefix?bA.roistatPhonePrefix:"",cr=bA.roistatPhonePrefixBind?bA.roistatPhonePrefixBind:"",A=bA.roistatCalltrackingScripts&&bA.roistatCalltrackingScripts.join?bA.roistatCalltrackingScripts.join(","):"";var h,ck;h=bA.roistatGetCookie=function(cv){var cw=t.cookie.match(new RegExp("(?:^|; )"+cv.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return cw?ag(cw[1]):a8};ck=bA.roistatSetCookie=function(cy,cA,cx){cx=cx||{};var cw=cx.expires;if(typeof cw=="number"&&cw){var cC=new Date();cC.setTime(cC.getTime()+cw*1000);cw=cx.expires=cC}if(cw&&cw.toUTCString){cx.expires=cw.toUTCString()}cA=encodeURIComponent(cA);var cv=cy+"="+cA;for(var cz in cx){cv+="; "+cz;var cB=cx[cz];if(cB!==true){cv+="="+cB}}t.cookie=cv};var a7=function(cw,cy,cx){var cv=cw[cy];cw[cy]=function(){if(cv){cv.apply(this,arguments)}cx.apply(this,arguments)}};var L=function(cx,cw,cy){if(cx.addEventListener){cx.addEventListener(cw,cy,false);return}var cv="on"+cw;if(cx.attachEvent){cx.attachEvent(cv,cy);return}if(cv in cx){a7(cx,cv,cy);return}if(cw in cx){a7(cx,cw,cy);return}o("Handler could not be attached")};var m=function(cy,cx){var cw=cy.length;for(var cv=0;cv<cw;cv++){cx(cy[cv])}};var w=function(cv){var cw=[];aT(cv,function(cx,cy){cw.push(cx)});return cw};var aT=function(cv,cx){for(var cw in cv){if(Object.prototype.hasOwnProperty.call(cv,cw)){cx(cw,cv[cw])}}};var aY=function(cv){return Object.prototype.toString.call(cv)==="[object Array]"};var aq=function(cw){if(typeof cw!=="object"){return false}for(var cv in cw){if(cw.hasOwnProperty(cv)){return true}}return false};var cg=function(cw){try{var cv=JSON.parse(cw);if(cv&&typeof cv==="object"){return cv}}catch(cx){}return null};if(t.getElementsByClassName==a8){t.getElementsByClassName=function(cw){var cv=[];var cA=new RegExp("\\b"+cw+"\\b");var cz=this.getElementsByTagName("*");for(var cy=0;cy<cz.length;cy++){var cx=cz[cy].className;if(cA.test(cx)){cv.push(cz[cy])}}return cv}}var ai=function(){return String.fromCharCode};var bV=function(cx){var cv="";for(var cw=0;cw<cx.length;++cw){cv+=ai()(bX^cx.charCodeAt(cw))}return cv};var an=function(cv){return encodeURIComponent(bV(bD.encode(cv)))};var bD={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(cx){var cv="";var cE,cC,cA,cD,cB,cz,cy;var cw=0;cx=bD._utf8_encode(cx);while(cw<cx.length){cE=cx.charCodeAt(cw++);cC=cx.charCodeAt(cw++);cA=cx.charCodeAt(cw++);cD=cE>>2;cB=((cE&3)<<4)|(cC>>4);cz=((cC&15)<<2)|(cA>>6);cy=cA&63;if(isNaN(cC)){cz=cy=64}else{if(isNaN(cA)){cy=64}}cv=cv+this._keyStr.charAt(cD)+this._keyStr.charAt(cB)+this._keyStr.charAt(cz)+this._keyStr.charAt(cy)}return cv},decode:function(cx){var cv="";var cE,cC,cA;var cD,cB,cz,cy;var cw=0;cx=cx.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(cw<cx.length){cD=this._keyStr.indexOf(cx.charAt(cw++));cB=this._keyStr.indexOf(cx.charAt(cw++));cz=this._keyStr.indexOf(cx.charAt(cw++));cy=this._keyStr.indexOf(cx.charAt(cw++));cE=(cD<<2)|(cB>>4);cC=((cB&15)<<4)|(cz>>2);cA=((cz&3)<<6)|cy;cv=cv+String.fromCharCode(cE);if(cz!=64){cv=cv+String.fromCharCode(cC)}if(cy!=64){cv=cv+String.fromCharCode(cA)}}cv=bD._utf8_decode(cv);return cv},_utf8_encode:function(cw){cw=cw.replace(/\r\n/g,"\n");var cv="";for(var cy=0;cy<cw.length;cy++){var cx=cw.charCodeAt(cy);if(cx<128){cv+=String.fromCharCode(cx)}else{if((cx>127)&&(cx<2048)){cv+=String.fromCharCode((cx>>6)|192);cv+=String.fromCharCode((cx&63)|128)}else{cv+=String.fromCharCode((cx>>12)|224);cv+=String.fromCharCode(((cx>>6)&63)|128);cv+=String.fromCharCode((cx&63)|128)}}}return cv},_utf8_decode:function(cv){var cx="";var cz=0;var cA=0;var cy=0;var cw=0;while(cz<cv.length){cA=cv.charCodeAt(cz);if(cA<128){cx+=String.fromCharCode(cA);cz++}else{if((cA>191)&&(cA<224)){cy=cv.charCodeAt(cz+1);cx+=String.fromCharCode(((cA&31)<<6)|(cy&63));cz+=2}else{cy=cv.charCodeAt(cz+1);cw=cv.charCodeAt(cz+2);cx+=String.fromCharCode(((cA&15)<<12)|((cy&63)<<6)|(cw&63));cz+=3}}}return cx}};var a5=function(){return t[ai()(99,111,111,107,105,101)]};var Y=function(){cn();var cv={c:ca()};return an(JSON.stringify(cv))};var bN=function(){var cv=l();return(cv===a8||cv===null)?bG:cv};var ca=function(){var cv=[];for(var cw in bw.cookies){if(!Object.prototype.hasOwnProperty.call(bw.cookies,cw)){continue}cv.push(cw+"="+bw.cookies[cw])}return cv.join("; ")};var cn=function(){var cv=j();for(var cw in cv){if(!Object.prototype.hasOwnProperty.call(cv,cw)){continue}bw.cookies[cw]=cv[cw]}};var X=function(cv){ck(b6,cv,a4());bw.source.marker=cv};var R=function(){return h(b6)};var e=function(){aT(bA.roistat.page.params,function(cw,cv){bw.pageParams[cw]=cv})};var j=function(){var cy=a5();var cz=cy.split("; ");var cv={};for(var cx=0;cx<cz.length;cx++){var cC=cz[cx];if(cC===""){continue}var cw=cC.split("=");if(cw.length<2){continue}var cB=cw[0].trim();var cA=cw[1].trim();cv[cB]=cA}return cv};var f=function(){return ai()(104,97,115,104)
};var ao=function(cv){return cv.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var bq={isAvailable:function(){var cv=false;if(!bA.sessionStorage||!bA.sessionStorage.setItem||!bA.sessionStorage.getItem||!bA.sessionStorage.removeItem){return cv}try{bA.sessionStorage.setItem("testKey","testValue");cv=bA.sessionStorage.getItem("testKey")==="testValue";bA.sessionStorage.removeItem("testKey")}catch(cw){return false}return cv},remove:function(cv){if(this.isAvailable()){bA.sessionStorage.removeItem(cv)}},setObject:function(cv,cw){if(this.isAvailable()){bA.sessionStorage.setItem(cv,JSON.stringify(cw))}},getObject:function(cw){var cv=null;if(this.isAvailable()){cv=bA.sessionStorage.getItem(cw);cv=JSON.parse(cv)}return cv},set:function(cv,cw){if(this.isAvailable()){bA.sessionStorage.setItem(cv,cw)}},get:function(cw){var cv=null;if(this.isAvailable()){cv=bA.sessionStorage.getItem(cw)}return cv}};var by={isAvailable:function(){var cv=false;if(!bA.localStorage||!bA.localStorage.setItem||!bA.localStorage.getItem||!bA.localStorage.removeItem){return cv}try{bA.localStorage.setItem("testKey","testValue");cv=bA.localStorage.getItem("testKey")==="testValue";bA.localStorage.removeItem("testKey")}catch(cw){return false}return cv},remove:function(cw){if(this.isAvailable()){bA.localStorage.removeItem(cw)}else{var cv=new Date(1970,1,1);ck(cw,"",{expires:cv.toUTCString()})}},setObject:function(cv,cw){if(this.isAvailable()){localStorage.setItem(cv,JSON.stringify(cw))}},getObject:function(cw){var cv=null;if(this.isAvailable()){cv=localStorage.getItem(cw);cv=cg(cv)}return cv},set:function(cv,cw){if(this.isAvailable()){localStorage.setItem(cv,cw)}else{ck(cv,cw,bZ)}},save:function(cw,cx,cv){if(this.isAvailable()){localStorage.setItem(cw,cx)}ck(cw,cx,cv)},get:function(cw){var cv=null;if(this.isAvailable()){cv=localStorage.getItem(cw)}if(cv===null){cv=h(cw)}return cv}};var T=function(){var cv=null;var cw=by.get(aj);var cx=az(cw)?cw:t.referrer;if(cx){cv=cx}return cv};var bn=function(){if(!J){return T()}return !bm(t.referrer)?t.referrer:null};var B=function(cv){return typeof cv==="function"};var cu=function(cv){return typeof cv==="object"};var az=function(cv){return typeof cv==="string"};var F=function(cy,cx){cx=typeof cx!=="undefined"?cx:false;var cz=function(cC){var cB=null;var cD=new RegExp("[#&?]("+cy+"=[^#&?]+)");if(cD.test(cC)){cB=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var cA=ag(cB);return cB&&cA?cA:cB};var cv=cz(bL);if(cx){var cw=t.referrer;if(cv===null&&cw){cv=cz(cw)}}return cv};var cb=function(cw,cx){var cv=false;if(cw&&cx){cv=cw.split(cx).join("")!==cw}return cv};if(F(bv)==="1"||j()[bv]==="1"){aW=true}var aI=function(){if("https:"===t.location.protocol){return"https:"}else{return"http:"}};var C=function(cw){var cv=t.createElement("img");cv.src=cw;o("sendRequestByUrl: "+cw)};var av=function(cw){o("sendApiRequestJSONP: init with url "+cw);var cv=t.createElement("script");cv.onload=cv.onreadystatechange=function(){var cy=this.readyState?this.readyState:"unknown";o("sendApiRequestJSONP: script state changed to "+cy)};cv.src=cw;cv.type="text/javascript";cv.async=true;var cx=t.getElementsByTagName("script")[0];cx.parentNode.insertBefore(cv,cx);o("sendApiRequestJSONP: script appended")};var bK=function(){var cw=t.createElement("link"),cv=t.getElementsByTagName("head");cw.setAttribute("rel","stylesheet");cw.setAttribute("href",aI()+"//"+p+"/dist/module.css?"+D);if(cv.length>0){cv[0].appendChild(cw)}};var bE=function(){return bH()||cs()};var bH=function(){return aO()!==null};var cs=function(){return bB()!==null};var b4=function(){var cv=b1();if(cv!==null){ck(bt,cv,a4())}};var b1=function(){return aO()||bB()||null};var aO=function(){return F("roistat_visit")};var bB=function(){return bw.visitFromUser};var a=function(cv){if(bw.isSettingsUpdating||!t.hasFocus()){o("Already updating settings or document not in focus, return");return}var cw=y()+"/get-settings?v="+D+"&visit="+cv;o("Request new settings");bw.isSettingsUpdating=true;av(cw)};var ar=function(){return by.get(aA)>0};var ch=function(){by.set(aA,1)};var co=function(){o("Call: Init");o("Counter version: "+D);if(F("roistat_ab_demo")==="1"){o("Roistat initialisation rejected: ab test preview mode");return}o("isNewReferrerProcessingEnabled: "+J);bK();aR();J?bS():G();if(!V()||ct()){b5=true;ba()}else{b4();var cv=l();bf();aF();b2();roistat.visit=cv;bw.source.marker=R();var cw=ar();if(!cw){a(cv)}else{bU()}}cf();if(!J){P()}};var aR=function(){o("Call: initMarker");a2=bF();o("Call: inited marker: "+a2)};var bS=function(){o("Call: initReferrer");i=bn();o("Call: end initReferrer: "+i)};var bm=function(cx){if(!cx){return true}var cv=aG(cx);var cw=aG(t.domain);if(cv===cw){return true}var cy=bk();if(cy===null){return false}if(cb(cv,cy)&&cb(cw,cy)){return true}return false};var bk=function(){if(typeof bZ.domain==="string"&&bZ.domain!==""){return aG(bZ.domain)}return null};var aG=function(cv){var cw=cv.split("http://").join("").split("https://").join("").split("www.").join("");
return cw.split("/")[0]};var bF=function(){var cA=h(g)>0;var cC=null;var cx=function(cF){return cF.split("_").join(":u:")};var cE=function(cG){var cF=false;m(ay,function(cH){if(cG.indexOf(cH)>-1){cF=true}});return cF};var cD=function(){var cF=false;var cG;cG=F(u,cA);if(cG!==null){cC=cG;cF=true}cG=F(bP,cA);if(cG!==null){cC=cG;cF=true}return cF};var cy=function(){var cF=false;var cG=R();if(cG){cC=cG;cF=true;bI=false}return cF};var cw=function(){var cF=false;var cH=F("utm_source",cA);if(cH!==null){cF=true;cC=":utm:"+cx(cH);var cJ=["utm_medium","utm_campaign","utm_content","utm_term"];var cG;for(var cI=0;cI<cJ.length;cI++){cG=F(cJ[cI],cA);if(cG!==null){cC=cC+"_"+cx(cG)}}}return cF};var cz=function(){var cH,cG,cF=false;cG=F("_openstat",cA);if(!cG){return false}if(cB(cG)){cH=cG}else{cH=encodeURI(bD.decode(cG));if(!cB(cH)){cH=cG}}if(cH){cH=cx(cH).split(";").join("_");cC=":openstat:"+cH;cF=true}return cF};var cB=function(cF){return cF.match(/^([^;]*(;[^;]*){3})$/)!==null};var cv=function(){var cF=false;var cG=t.referrer;if(bm(cG)){return cF}var cH=F("from",cA);if(cH!==null&&!cb(cH,"http")){if(!cE(cH)){cF=true;cC=cx(cH)}}return cF};if(cD()){o("Init marker: init from RS param "+cC);return cC}if(cw()){o("Init marker: init from UTM "+cC);return cC}if(cz()){o("Init marker: init from OpenStat "+cC);return cC}if(cv()){o("Init marker: init from custom tag "+cC);return cC}o("Init marker: try init from cookie "+cC);cy();return cC};var l=function(){return by.get(bt)};var G=function(){o("Call: saveReferrer");if(J){by.remove(b9);by.set(aj,i);return}var cv=t.referrer;if(bm(cv)){return}by.set(aj,cv)};var bp=function(){o("Call: removeReferrer");by.remove(aj)};var cf=function(){ck(aL,ag(a2),a4())};var P=function(){by.set(b9,bn())};var b2=function(){o("Call: refreshPromoCode");var cv=function(){return h(bt)};ab(cv());if(!bA.onload){bA.onload=function(){ab(cv())}}setTimeout(function(){ab(cv())},50);setTimeout(function(){ab(cv())},200);setTimeout(function(){ab(cv())},2000);setTimeout(function(){ab(cv())},10000)};bA.roistatPromoCodeRefresh=b2;var ci=function(){var cv=[];var cw=t.getElementsByClassName(N);if(cw&&cw.length){cv=cw}return cv};var ab=function(cv){var cy=ci();o("setPromoCode: "+cv+" in "+cy.length+" elements");for(var cx=0;cx<cy.length;cx++){var cw=cy[cx];cw.innerHTML=cv?cv:""}};var bc=function(){var cx=bF(),cw=h(aL),cz=cx!==null,cy=true;var cB=ag(ag(cx)).toLowerCase().split("+").join(" "),cA=ag(ag(cw)).toLowerCase().split("+").join(" ");if(cx&&cw){cy=cB!==cA}var cv=cz&&cy;au="Call: needOverrideByMarker (result "+(cv?"true":"false")+") with current "+cx+":"+cB+" and old "+cw+":"+cA;o(au);return cv};var am=function(){var cw=function(cF){return/[\u0400-\u04FF]/.test(cF)};var cE=false,cB=bn(),cv=by.get(b9),cD=bA.location.host;if(J){var cA=by.get(aj);cv=az(cA)?cA:cv}if(!cB||!cD){o("Call: needOverrideByReferrer (result "+(cE?"true":"false")+"), skip because one of params is empty");return cE}cD=aG(cD);cB=ag(cB);cv=ag(cv);var cz=aG(cB);if(cb(cB,"xn--")&&cw(cD)){o("Call: needOverrideByReferrer (result "+(cE?"true":"false")+"), skip because of bugs with punycode in FF");return cE}if(!cz){o("Call: needOverrideByReferrer (result "+(cE?"true":"false")+"), skip because current referrer is null");return cE}if(!cv){cE=!cb(cz,cD);o("Call: needOverrideByReferrer (result "+(cE?"true":"false")+"), compare current referrer and host");return cE}if(cb(cB,cv)){o("Call: needOverrideByReferrer (result "+(cE?"true":"false")+"), skip because the same referrer");return cE}var cC=cD.split(".").length>2&&cz.split(".").length>2;var cy=bA.roistatCookieDomain!==a8&&bA.roistatCookieDomain!==cD;var cx=cz.split(".").slice(1).join(".")===cD.split(".").slice(1).join(".");if(cC&&cy&&cx){o("Call: needOverrideByReferrer (result "+(cE?"true":"false")+"), skip because sub domains of same domain");return cE}cE=!(cb(cz,cD)||(cb(cD,cz)));o("Call: needOverrideByReferrer (result "+(cE?"true":"false")+") referrerHost: "+cz+", currentHost: "+cD);return cE};var bg=function(){return F("utm_nooverride")==="1"};var ct=function(){return !bE()&&!bg()&&(bc()||am())};var bh=function(cw,cv){return(cw&&cv&&cw!=cv)};var aJ=function(cx){var cv=["cookieExpire"];var cz=cx.leadHunterEnabled;if(!cz){if(by.get(a9)>0){by.set(a9,0)}}else{var cy={expires:z,path:"/"};if(bZ.domain){cy.domain=bZ.domain}ck(H,1,cy)}for(var cw in cx){if(!Object.prototype.hasOwnProperty.call(cx,cw)){continue}if(!cz&&cw.indexOf("leadHunter")>=0){continue}if(!aa(cv,cw)){by.set("roistat_"+cw,cx[cw])}}};var cp=function(cw,cy,cv,cx){aJ(cw);roistat.callTracking.enabled=cy.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=cv.email;roistat.emailtracking.trackingEmail=cv.trackingEmail;roistat.emailtracking.emails=cv.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=cx};bA.roistatModuleSetVisitCookie=function(cA,cG,cy,cw,cF,cv){o("Call: roistatModuleSetVisitCookie("+cA+")");var cC;if(typeof cy.cookieExpire!=="number"){cC=a4().expires}else{cC=cy.cookieExpire}var cB=h(bt);var cE={expires:cC,path:"/"};
if(bZ.domain){cE.domain=bZ.domain}ck(bt,cA,cE);if(!(h(bt)>0)){by.save(bt,cA,cE)}if(!by.get(aw)){var cx={expires:10*365*24*60*60,path:"/"};if(bZ.domain){cx.domain=bZ.domain}by.save(aw,cA,cx)}var cD=cy.abTests;if((typeof cD!=="undefined")&&by.isAvailable()){by.setObject("abTesting",cD)}applyTests();var cz=cy.isNeedToListenRequests;if((typeof cz!=="undefined")&&by.isAvailable()){by.set(U,cz)}ab(cA);if(cG){X(cG);ck(aL,cG,cE)}o("Call: pre renderPromoCode");aF();b2();if(bh(cB,cA)){o("roistatModuleSetVisitCookie: visit changed from "+cB+" to "+cA)}if(bA.roistatCallback!==a8){bA.roistatCallback(cA,cG)}cp(cy,cw,cF,cv);roistat.callTracking.phone=cw.phone;roistat.callTracking.sessionTime=cw.sessionTime;roistat.callTracking.replacementClasses=cw.replacementClasses;roistat.callTracking.phoneScriptsJson=cw.scripts;roistat.visit=cA;cd();ch();bU()};bA.roistatUpdateSettings=function(cv){o("Set settings.");bw.isSettingsUpdating=false;cp(cv.js_settings,cv.calltracking,cv.emailtracking,cv.proxy_forms);ch();bU()};var V=function(){var cv;if(bA.roistatIsInitVisit===true){cv=false}else{cv=h(bt)>0}o("Call: alreadyVisited (return "+(cv?"true":"false")+")");return cv};var c=function(cv){return encodeURIComponent?encodeURIComponent(cv):encodeURI(cv)};var bu=function(){var cv=bn();return cv?c(cv):""};var aC=function(){if(!J){return bu()}return i?c(i):""};var y=function(){return aI()+"//"+p+"/api/site/"+M+"/"+aD()};var bJ=function(){var cv={expires:1,path:"/"};if(bZ.domain){cv.domain=bZ.domain}ck(a3,"",cv)};var ba=function(){o("Call: setVisitIdCookie");var cw=function(){var cE=aD(),cB=aC(),cy=bA.roistatIsInitVisit===true?l():0,cD=h(a3),cz=by.get(aw);cD=cD?cD:"";cz=cz?cz:"";a2=a2&&(!am()||bI)?ag(ag(a2)):"";var cC=encodeURIComponent(bL);o("Calltracking: enabled="+bl.callTrackingEnabled+",manual="+bl.callTrackingManual);var cA=JSON.stringify(bA.roistat.page.params);return y()+"/addVisit?v="+D+"&marker="+encodeURIComponent(a2)+"&visit="+cy+"&first_visit="+cz+"&phone_prefix="+bQ+"&phone_prefix_bind="+cr+"&phone_scripts_bind="+A+"&referrer="+cB+"&page="+cC+"&ab="+c(cD)+"&"+f()+"="+Y()+(cA==="{}"?"":"&page_params="+encodeURIComponent(cA))+((!bl.callTrackingEnabled||bl.callTrackingManual)?"&call_tracking_disabled=1":"")};var cv=function(cy){setTimeout(function(){o("Call: setVisitIdCookie script creation after timeout");var cz=t.createElement("script");cz.onload=cz.onreadystatechange=function(){var cB=this.readyState?this.readyState:"unknown";o("Call: setVisitIdCookie script state changed to "+cB)};cz.src=cy;cz.type="text/javascript";cz.async=true;cz.id=E;var cA=t.getElementsByTagName("script")[0];cA.parentNode.insertBefore(cz,cA);o("Call: setVisitIdCookie appended "+((t.getElementById(E))?"true":"false"));o("Call: sendJSONPRequest to URL "+cy);bJ()},bl.jsonpRequestTimeout)};if(a2){X(a2)}ae();var cx=cw();cv(cx);if(J){i?G():bp()}};var bf=function(){o("Call: sendAbTests");var cw=function(){var cA=aD(),cz=h(bt);return aI()+"//"+p+"/site-api/"+ak+"/"+cA+"/visit/"+cz+"/addAbVariant"};var cx=h(a3);if(!cx){return}var cy=cw();cy=cy+"?ab="+c(cx);var cv=t.createElement("img");cv.src=cy;bJ()};var at={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(at.Android()||at.BlackBerry()||at.iOS()||at.Opera()||at.Windows())}};var aB={isIE:function(cx,cz){var cA="IE",cw=t.createElement("B"),cv=t.documentElement,cy;if(cx){cA+=" "+cx;if(cz){cA=cz+" "+cA}}cw.innerHTML="<!--[if "+cA+']><b id="iecctest"></b><![endif]-->';cv.appendChild(cw);cy=!!t.getElementById("iecctest");cv.removeChild(cw);return cy}};var bC=function(){return new Date().getTime()};var K=function(){var cv="";bA.onerror=function(cB,cA,cx,cz,cy){var cw=!cz?"":", column: "+cz;cw+=!cy?"":", error: "+cy;cv=cv+", Error: "+cB+", url: "+cA+", line: "+cx+cw};setTimeout(function(){var cD=false,cE="";var cz=ci();for(var cC=0;cC<cz.length;cC++){var cy=cz[cC];if(cy!==null&&!cy.innerHTML){cD=true;cE="Promo HTML: "+cy.innerHTML}}if(!(h(bt)>0)){cD=true;cE=cE+"; roistat_visit = "+h(bt)}if(cD){var cx=t.getElementById(E);var cw=cx?1:0;var cA=bA.navigator.userAgent;cE=encodeURIComponent(cE);var cB=t.createElement("img");cB.src=aI()+"//"+p+"/site-api/"+ak+"/"+aD()+"/debug?message="+cE+"&agent="+cA+"&"+f()+"="+Y()+"&jserror="+cv+"&scriptResponse="+cw+"&version="+D+"&debug="+aN}},20000)};var a6=function(){var cx=t.getElementsByTagName("body");var cy=t.documentElement;var cw=0,cz=0;if(cx.length){var cv=cx[0];cw=bA.innerWidth||cy.clientWidth||cv.clientWidth;cz=bA.innerHeight||cy.clientHeight||cv.clientHeight}else{cw=bA.innerWidth||cy.clientWidth;cz=bA.innerHeight||cy.clientHeight}return{width:cw,height:cz}};var aF=function(){var cA=t.getElementsByClassName("roistat-promo-wrap");if(cA.length){o("PromoCode: old promo code length - exit");
return}var cy=function(){var cH=t.createElement("div");cH.innerHTML=roistatPromoCode;var cF=t.getElementsByTagName("body");if(cF.length){cF[0].appendChild(cH)}o("PromoCode: appended to body "+roistatPromoCode.length);var cG=t.getElementsByClassName("roistat-promo-wrap")[0];if(!cG){o("PromoCode: roistat-promo-wrap not found, skip");return}var cE=cG.style;var cC,cD,cB;setInterval(function(){cC=a6();cD=cG.offsetWidth;cB=cG.offsetHeight*2;switch(roistatPosition){case"top_left":cE.left=0;cE.top=0;break;case"top":cE.left=((cC.width-cD)/2)+"px";cE.top=0;break;case"top_right":cE.right=0;cE.top=0;break;case"left":cE.left=0;cE.top=((cC.height-cB)/2)+"px";break;case"right":cE.right=0;cE.top=((cC.height-cB)/2)+"px";break;case"bottom_left":cE.left=0;cE.bottom=0;break;case"bottom":cE.left=((cC.width-cD)/2)+"px";cE.bottom=0;break;case"bottom_right":cE.right=0;cE.bottom=0;break;default:cE.left=0;cE.top=0}},500)};var cv=by.getObject("promo_code_options");if(cv){bA.roistatPromoCode=cv.template;bA.roistatPosition=cv.position;cy()}else{var cz=t.getElementsByTagName("head")[0]||t.documentElement;var cx=t.createElement("script");cx.src=aI()+"//"+p+"/site-api/"+ak+"/"+aD()+"/getPromoCode";cz.insertBefore(cx,cz.firstChild);o("PromoCode: loading started");var cw=false;cx.onload=cx.onreadystatechange=function(){if(!cw&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){cw=true;cx.onload=cx.onreadystatechange=null;if(cz&&cx.parentNode){cz.removeChild(cx)}}if(!cw){return}o("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){o("PromoCode: is disabled");return}cv={template:roistatPromoCode,position:roistatPosition};by.setObject("promo_code_options",cv);cy()}}};var aa=function(cw,cx){for(var cv=0;cv<cw.length;cv++){if(cw[cv]===cx){return true}}return false};var o=function(cw){var cx=bC()-aU;var cv="["+(cx/1000)+"s] "+cw;aN=aN+"; "+cv;if(typeof console!=="undefined"&&console.log&&aW){console.log(cv)}};var al=function al(){var cz=bA.onpopstate;var cA=bA.history.pushState;var cv=bA.history.replaceState;L(bA,"popstate",function cy(cB){o("[Roistat]: popstate event catch");br();if(I()&&typeof cz==="function"){cz(cB)}});L(bA.history,"pushState",function cx(cC,cD,cB){o("[Roistat]: pushState event catch");br();if(I()&&typeof cA==="function"){cA.apply(this,[cC,cD,cB])}});L(bA.history,"replaceState",function cw(cC,cD,cB){o("[Roistat]: replaceState event catch");br();if(I()&&typeof cv==="function"){cv.apply(this,[cC,cD,cB])}})};(function bd(){al();if(bA.onRoistatModuleLoaded!==a8&&typeof bA.onRoistatModuleLoaded==="function"){bA.onRoistatModuleLoaded()}})();co();(function aH(){var ef="roistat-lh-form",cQ="roistat-lh-form",eh="roistat-lh-head-text",c4="roistat-lh-head",cO="roistat-lh-thank-you",dw="roistat-lh-thank-you",cA="roistat-lh-close",cB="roistat-lh-submit",de="roistat-lh-hidden",dU="roistat-lh-wrap",cS="roistat-lh-popup-wrapper",dv="roistat-lh-popup",ee="roistat-lh-popup-iframe",eg="roistat-lh-agreement",dq="roistat-lh-agreement roistat-lh-mobile",et="roistat-lh-agreement-input",d5="roistat-lh-agreement-link",cv="roistat-lh-agreement-doc",eb="roistat-lh-alert-row",dF="roistat-lh-agreement",dp="roistat-lh-popup-iframe",dH="roistat_leadHunterUrl",d7="roistat_leadHunterAppearanceUrl",dh="roistat_leadHunterTargetPagesList",cM="roistat_leadHunterCaught",cW="roistat_leadHunterFormTemplate_{version}",dO=17,c5="roistat_leadHunterPulsatorTemplate",d3="roistat_leadHunterPulsatorSettings",dN="roistat_leadHunterMinTime",c8="roistat_leadHunterAutoShowTime",dL="roistat_leadHunterPulsatorEnabled",c9="roistat-lh-pulsator-icon",dx="roistat-lh-pulsator-fill",dm="roistat-lh-load-done",cR="roistat-lh-close-modal",dV="roistat-lh-setting-size",ec="roistat-lh-before-submit",dI="roistat-lh-before-submit-done",ej="roistat-lh-after-submit",dY="roistat-lh-event-data",dZ="roistat-lh-translate-form",d8="ru",cz="en",er={topLeft:{bottom:"80%",right:"auto",},topRight:{bottom:"80%",right:"3%",},bottomRight:{bottom:"10%",right:"3%",},bottomLeft:{bottom:"10%",right:"auto",},};var cL=0.3,cX=0.001,cP=false,c0=0,cU=0,c1=0,ek=0,cZ=0,ds=false,df=false,cE=false,dB="",cY,ea,dz,dG,dT,c3,es,eo,d6,eq,cH,el,dR,dA,dn,cK,cy,dd,c2,da,d2;var en={pulsator:{previousClass:""},leave:{isShowEnabled:false,},timeoutId:0};var cV=function(){return cW.split("{version}").join(dO)};var ei=function(ez){var ey=encodeURIComponent?encodeURIComponent:encodeURI;return ey(ez)};var cN=function(){if(!by.isAvailable()){return}by.remove(cW.split("_{version}").join(""));var ey;if(dO>1){for(ey=1;ey<dO;ey++){by.remove(cW.split("{version}").join(ey.toString()))}}};var dX=function(){if(!bA.roistat.leadHunter.isEnabled){return false}if(bA.roistatLeadHunterInited){return false}bA.roistatLeadHunterInited=true;if(by.get(a9)<1){o("LeadHunter: disabled");return false}return true};var dc=function(){cy=by.get(dH);if(!cy){o("LeadHunter: not active cause of empty url");return false}dd=by.get(d7);ek=by.get(dN);cZ=bA.roistat.leadHunter.form.autoShowTime===null?by.get(c8):bA.roistat.leadHunter.form.autoShowTime;
ds=by.get(dL)==1;cx();return true};var cx=function(){if(by.get(cM)>0){o("LeadHunter: not active because already caught");df=true}if(!(h(H)>0)){o("LeadHunter: not active, expired for this visit");df=true}};var ex=function(){var eE=function(eL,eJ){var eI;if(cb(eJ,"*")){var eK=new RegExp(eJ.split("*").join(".*"));eI=eK.test(eL)}else{eI=eL===eJ}o("LeadHunter: compare current: "+eL+", setting: "+eJ+" with result = "+(eI?1:0));return eI};var ez=by.get(dh),ey=bA.location.href,eB=false,eA=false,eG="",eC=0,eF;eF=ez?ez.split(","):[];if(!ey||eF.length===0){eB=true}else{eG=ao(ey);var eH;for(var eD=0;eD<eF.length;eD++){eH=eF[eD].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(eH)){if(eE(eG,eH.split(/^!/).join(""))){eA=true;break}}else{eC++;if(eE(eG,eH)){eB=true;break}}}}if(eA){o('LeadHunter: current page "'+eG+'" is disabled by list');return false}if(!eB&&eC>0){o('LeadHunter: current page "'+eG+'" is not listed');return false}o('LeadHunter: current page "'+ey+'", cleaned: "'+eG+'" is not disabled in '+eF.length+" list of pages");return true};var cF=function(){da=d2.src;var ey={version:D,additionalNotifyEmail:bA.roistat.leadHunter.additionalNotifyEmail,projectKey:aD(),language:dB,visitId:bN(),moduleTargetOrigin:bA.location.origin,referrer:bA.location.href,windowWidth:bA.innerWidth||0,iframeWrapperWidth:dG.offsetWidth||0,sendRequestUrl:by.get(dH),message:dm,};d2.contentWindow.postMessage(ey,da);dM()};var dl=function(){cE=true;cD("click");cF();dS()};var cC=function(){var ey=bA.location.hash;if(!ey){return}if(cb(ey,"roistat-lead-hunter")){dl()}};var dj=function cJ(){o("LeadHunter: binding timeout");if(df){o("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(cP){o("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(cZ>0){var ey=(c0-bC())+cZ*1000;o("LeadHunter: binding timeout with delay "+ey+" ms");clearTimeout(en.timeoutId);en.timeoutId=setTimeout(function(){o("LeadHunter: form auto activate with autoTime = "+cZ);if(!cP){cE=true;cD("auto");cF();dS()}},ey)}else{o("LeadHunter: auto show time is not positive, feature disabled")}};var ew=function(eA,ez,ey){if(eA.addEventListener){eA.addEventListener(ez,ey,false)}else{if(eA.attachEvent){eA.attachEvent("on"+ez,ey)}else{o("Handler could not be attached")}}};var d9=function(){d6.onclick=dT.onclick=dD;eq.onclick=dg;if(el){ew(el,"click",dr)}if(dR){ew(dR,"change",eu)}var ez=t.getElementsByClassName("roistat-lh-input");for(var eC=0;eC<ez.length;eC++){ew(ez[eC],"keyup",function(eE){eE=eE||event;var eD=(eE.keyCode?eE.keyCode:eE.which);if(eD==13){dg()}})}var eA=bA.onresize;bA.onresize=function(eD){if(eA){eA(eD)}ed(eD)};if(!df){var ey=t.onmouseout;t.onmouseout=function(eD){if(ey){ey(eD)}dQ(eD)}}if(ds){cY.onmouseover=function(){Q(cY,"roistat-lh-pulsator-hover")};cY.onmouseout=function(){bs(cY,"roistat-lh-pulsator-hover")};cY.onclick=function(){dl()}}var eB=bA.onhashchange;bA.onhashchange=function(){if(eB){eB.apply(this,arguments)}cC()}};var ep=function(){if(ds){cY.onmouseover=function(){Q(cY,"roistat-lh-pulsator-hover")};cY.onmouseout=function(){bs(cY,"roistat-lh-pulsator-hover")};cY.onclick=function(){dl()}}dT.onclick=dD;d2=t.getElementById(dp);ew(d2,"load",function(){cF();em()});var ez=bA.onresize;bA.onresize=function(eB){if(ez){ez(eB)}ed(eB)};if(!df){var ey=t.onmouseout;t.onmouseout=function(eB){if(ey){ey(eB)}dQ(eB)}}var eA=bA.onhashchange;bA.onhashchange=function(){if(eA){eA.apply(this,arguments)}cC()}};var dC=function(ez){var ey=t.getElementsByClassName(ez);if(ey.length>0){return ey[0]}else{return null}};var dy=function(){var eB=dC("roistat-lh-title");if(eB&&roistat.leadHunter.form.title){eB.innerHTML=roistat.leadHunter.form.title}var ez=dC("roistat-lh-sub-title");if(ez&&roistat.leadHunter.form.subTitle){ez.innerHTML=roistat.leadHunter.form.subTitle}var eA=dC("roistat-lh-thank-you");if(eA&&roistat.leadHunter.form.thankYouText){eA.innerHTML=roistat.leadHunter.form.thankYouText}var eD=dC("roistat-lh-submit");if(eD&&roistat.leadHunter.form.buttonText){eD.value=roistat.leadHunter.form.buttonText}var eC=dC("roistat-lh-text-label-name");if(eC&&roistat.leadHunter.form.nameLabel){eC.innerHTML=roistat.leadHunter.form.nameLabel}var ey=dC("roistat-lh-text-label-contact");if(ey&&roistat.leadHunter.form.contactLabel){ey.innerHTML=roistat.leadHunter.form.contactLabel}};var cT=function(ez,eD,eC){var ey;if(!ez){o("LeadHunter: deactivating, empty form")}else{o("LeadHunter: rendering hidden form")}if(by.isAvailable()){d0(ez,eD,eC)}dT=t.createElement("div");dG=t.createElement("div");dG.innerHTML=ez;dT.className=de;dG.className=de;if(eD&&ds&&eC){var eA=typeof eC.position==="string"&&eC.position!==""?eC.position:"bottomRight";ey=t.createElement("div");ey.innerHTML=eD;cY=ey.childNodes.item(0);ea=cY.childNodes.item(1);dz=cY.childNodes.item(2).childNodes.item(0);ea.setAttribute("style","background: "+eC.button.background+";");dz.setAttribute("style","fill: "+eC.button.color+";");cY.setAttribute("style","bottom: "+er[eA].bottom+";right:"+er[eA].right+";");
en.pulsator.previousClass=cY.className;cY.className=de;t.body.appendChild(cY)}t.body.appendChild(dT);t.body.appendChild(dG);c3=t.getElementById(c4);es=t.getElementById(cQ);eo=t.getElementById(dw);d6=t.getElementById(cA);eq=t.getElementById(cB);cH=t.getElementById(eg);dR=t.getElementById(et);el=t.getElementById(d5);dA=t.getElementById(cv);dn=t.getElementById(eb);cK=t.getElementById(dF);var eB=dC(cS);c2=eB&&eB.getAttribute("data-is-iframe");if(c2){ep()}else{dy();d9();cC();em()}};var cI=function(){var ey=by.get(cV()),eA=by.get(c5),ez=by.getObject(d3);bA.roistatLeadhunterForm=cT;if(!ey||!ez){o("LeadHunter: requesting form from server");av(aI()+"//"+p+"/api/site/"+M+"/"+aD()+"/leadhunter-form?domain="+encodeURIComponent(t.domain))}else{bA.roistatLeadhunterForm(bD.decode(ey),bD.decode(eA),ez)}};var di=function(){var ez=dG.clientWidth,ey=dG.clientHeight;dG.setAttribute("style",dG.getAttribute("style")+" width: "+ez+"px; height: "+ey+"px;");if(es!==null){es.className=de}if(c3!==null){c3.className=de}if(cH!==null){cH.className=de}if(eo!==null){eo.setAttribute("style","width: "+ez+"px; height: "+ey+"px; display: table-cell;");eo.className=cO}setTimeout(function(){o("LeadHunter: close form after timeout");dD()},7000)};var dS=function(){var ez=Math.round((d4()-dG.clientHeight)/2);var ey=Math.round((ev()-dG.clientWidth)/2);dG.setAttribute("style","left: "+ey+"px; top: "+Math.max(0,ez)+"px;")};var cD=function(ez){if(bA.roistat.leadHunter.onBeforeAppear){o("LeadHunter: process user defined onBeforeAppear");bA.roistat.leadHunter.onBeforeAppear(ez);if(c2){dM()}}dG.setAttribute("style","left:20px;top:-20px;opacity:0");dT.className=dU;dG.className=dv;if(es!==null){es.className=ef}if(c3!==null){c3.className=eh}if(cH!==null){cH.className=dq}if(eo!==null){eo.setAttribute("style","");eo.className=de}dT.setAttribute("style","opacity:0;");cP=true;setTimeout(function(){dT.setAttribute("style","opacity:.5;")},10);var eA=h(bt),ey=dd+"?visit_id="+eA;C(ey);if(bA.roistat.leadHunter.onAfterAppear){o("LeadHunter: process user defined onAfterAppear");bA.roistat.leadHunter.onAfterAppear(eA,dT,dG,es);if(c2){dM()}}};var dW=function dE(){cN();c0=bC();var ey=false;var ez=bA.onload;bA.onload=function(){if(ez){ez()}if(!ey){ey=true;o("LeadHunter: form initialized in window.onload");cI()}};setTimeout(function(){if(!ey){ey=true;o("LeadHunter: form initialized after timeout");cI()}},5000)};var em=function dk(){o("LeadHunter: tuning appearance for page");if(!ex()){o("LeadHunter: disabled on page");en.leave.isShowEnabled=false;clearTimeout(en.timeoutId);if(cY){cY.className=de}}else{o("LeadHunter: enabled on page");en.leave.isShowEnabled=true;dj();if(cY){cY.className=en.pulsator.previousClass}}};var c6=function dP(){o("LeadHunter: processing single page application state change");c0=bC();em()};var d1=function dt(){ac(c6);L(bA,"message",function ey(eB){var eA=typeof eB.data==="string"?eB.data:eB.data.message;if(eA===cR){dD()}if(eA===dV){d2.setAttribute("style","width: "+eB.data.width+"px !important; height: "+eB.data.height+"px !important;");ed()}if(eA===ec){var eC=eB.data.caughtLeadData;if(bA.roistat.leadHunter.onBeforeSubmit){o("LeadHunter: process user defined onBeforeSubmit");var ez=bA.roistat.leadHunter.onBeforeSubmit(eC);if(ez){eC=ez}}d2.contentWindow.postMessage({caughtLead:eC,message:dI},da)}if(eA===ej){if(bA.roistat.leadHunter.onAfterSubmit){o("LeadHunter: process user defined onAfterSubmit");bA.roistat.leadHunter.onAfterSubmit({name:eB.data.name,phone:eB.data.phone})}}})};function dM(){var ey={apiData:bA.roistat.leadHunter.form,message:dY};d2.contentWindow.postMessage(ey,da)}function dK(){if(!dX()){return}if(!dc()){return}o("LeadHunter: activated");dW();d1()}function d4(){return(bA.innerHeight?bA.innerHeight:t.documentElement.clientHeight==0?t.body.clientHeight:t.documentElement.clientHeight)}function ev(){return(bA.innerWidth?bA.innerWidth:t.documentElement.clientWidth==0?t.body.clientWidth:t.documentElement.clientWidth)}function dQ(eA){eA=eA||event;c1=eA.clientY;var ey=c1/d4(),eC=cU>0&&cU>ey,ez=ey<cX,eB=(bC()-c0)>ek*1000;if(eC&&ez&&!cP&&eB&&en.leave.isShowEnabled){o("LeadHunter: show modal with because move up ("+cU+" -> "+ey+") and in modal zone and show on leave enabled");cD("exit");cF();du(eA)}if(ey<cL){cU=ey}}function ed(ey){if(cE){dS()}else{ey=ey||event;du(ey)}}function du(eB){var ey=eB.clientX-Math.round(dG.clientWidth/2)||dG.offsetLeft;ey=Math.max(20,Math.min(ey,ev()-dG.offsetWidth-20));var eC=ey+dG.offsetWidth>ev()-40;if(eC){var ez=(ey+dG.clientWidth-20)-(ev()-40);ey=ey-ez}var eA=ev()-40>dG.offsetWidth?"":"width:"+(dG.offsetWidth-40)+"px;";dG.setAttribute("style","left:"+ey+"px; top: 0px; "+eA)}function cG(){bA.roistatSetCookie(cM,1,bZ)}function dD(){cG();dT.setAttribute("style","opacity:0");dG.style.top="-"+dG.offsetHeight*2+"px";setTimeout(function(){dG.className=dT.className=de},500)}function dg(){var eM=t.getElementById("roistat-lh-phone-input"),eA=t.getElementById("roistat-lh-name-input"),eC,eK;eC=eM===null?"":eM.value;eK=eA===null?"":eA.value;
var eH={name:eK,phone:eC,isNeedCallback:null,callbackPhone:null,fields:{}};if(bA.roistat.leadHunter.onBeforeSubmit){o("LeadHunter: process user defined onBeforeSubmit");var eD=bA.roistat.leadHunter.onBeforeSubmit(eH);if(eD){eH=eD}}var eJ=eH.phone.length<1;var eL=eH.phone.indexOf("_")===-1;var eF=!eJ&&eL;var eI=eH.name.length<1;var ez=!eI||!bA.roistat.leadHunter.form.isNameRequired;if(!eF){eM.setAttribute("style","border: 2px solid #E0571A;");return}if(!ez){eA.setAttribute("style","border: 2px solid #E0571A;");return}var ey=cy+"?v="+D+"&lead-hunt-input="+encodeURIComponent(eH.phone)+"&lead-name="+encodeURIComponent(eH.name)+"&visit="+bN();if(eH.isNeedCallback!==null&&eH.isNeedCallback!==a8){ey=ey+"&is_need_callback="+(eH.isNeedCallback>0?1:0)}if(eH.callbackPhone){ey=ey+"&callback_phone="+eH.callbackPhone}if(bA.roistat.leadHunter.additionalNotifyEmail!==null){ey=ey+"&additional_email="+encodeURIComponent(bA.roistat.leadHunter.additionalNotifyEmail)}var eB=0;if(eH.fields&&typeof eH.fields==="object"){for(var eE in eH.fields){if(eH.fields.hasOwnProperty(eE)){++eB}}}if(eB>0){ey=ey+"&fields="+ei(JSON.stringify(eH.fields))}ey=ey+"&t="+bC();var eG=t.createElement("img");eG.src=ey;eM.setAttribute("style","");cG();if(eo===null){dD();db()}else{di()}if(bA.roistat.leadHunter.onAfterSubmit){o("LeadHunter: process user defined onAfterSubmit");bA.roistat.leadHunter.onAfterSubmit({name:eK,phone:eC})}}function dr(ey){if(ey.preventDefault){ey.preventDefault()}else{ey.returnValue=false}dA.style.display==="block"?dA.style.display="none":dA.setAttribute("style","display: block; padding: 0 30px; width:"+dG.clientWidth+"px;");ed()}function eu(){eq.disabled===true?eq.disabled=false:eq.disabled=true;dn.style.display==="block"?dn.style.display="none":dn.style.display="block"}function db(){t.onmousemove=null;dT.onresize=null}var c7=function(eE,eH){if(!eE||!eH){o("LeadHunter: skip phone mask render due to empty input or mask");return}o("LeadHunter: render phone mask "+eH+" for input: "+eE.value);if(bA.roistatRenderPhoneMaskMutex){return}bA.roistatRenderPhoneMaskMutex=true;var eB="_",eA="x",eD="",eC=eH.toLowerCase().split(eA).join(eB).split(eD).join(eB);var ez=function(eI){if(eE.setSelectionRange){eE.setSelectionRange(eI,eI)}else{if(eE.createTextRange){var eJ=eE.createTextRange();eJ.collapse(true);eJ.moveEnd("character",eI);eJ.moveStart("character",eI);eJ.select()}}};var eF=function(eI){if(!eI){return 0}var eJ=eI.indexOf(eB);if(eJ<0){return eI.length}return eJ};var eG=function(eI){ez(eF(eI))};var ey=function(eR){var eS=eC.split("");if(!eR){return eC}var eI=eR.split("");var eT=[],eQ,eN,eP,eM,eK,eJ,eO;for(var eL=0;eL<eS.length;eL++){eN=eS[eL];if(eL>=eI.length){eT.push(eN);continue}eK=((eL+1)<eS.length)?eS[eL+1]:null;eJ=((eL+1)<eI.length)?eI[eL+1]:null;eO=((eL+2)<eI.length)?eI[eL+2]:null;eQ=eI[eL];eP=parseInt(eQ)>=0;eM=(eN===eB)&&eP;if(!eM){eT.push(eN);continue}if(eJ===eB&&eK!==eB&&eO!==eK){eT.push(eN);continue}eT.push(eQ)}return eT.join("")};setTimeout(function(){var eI=ey(eE.value);if(eE.value!==eI){eE.value=eI}eG(eI);bA.roistatRenderPhoneMaskMutex=false},1)};var d0=function(ey,eA,ez){by.set(cV(),bD.encode(ey));by.set(c5,bD.encode(eA));by.setObject(d3,ez)};var dJ=function(ey){dB=ey;if(d2===a8){return}cw()};var cw=function(){var ey={language:dB,message:dZ};d2.contentWindow.postMessage(ey,da)};bM(dK);bA.roistatLeadHunterShow=dl;bA.roistatRenderPhoneMask=c7;bA.roistatSaveLeadHunterTemplates=d0;bA.roistat.leadHunter.localization.translateToRussian=function(){dJ(d8)};bA.roistat.leadHunter.localization.translateToEnglish=function(){dJ(cz)}})();(function n(){var cI=function(){return h(cq)};var cG=function(){return by.get(aQ)};var cz=function(){return by.get(a1)};var cM=function(cO){return cO!=null&&cO!==a8&&cO!==""};var cL=function(){var cO=[];var cP=t.getElementsByClassName(W);if(cP&&cP.length){cO=cP}return cO};var cx=function(){var cO=[];var cP=t.getElementsByClassName(s);if(cP&&cP.length){cO=cP}return cO};var cw=function(){var cO=[];var cP=t.getElementsByClassName(O);if(cP&&cP.length){cO=cP}return cO};var cB=function(){var cO=[];var cP=t.getElementsByClassName(v);if(cP&&cP.length){cO=cP}return cO};var cE=function(){var cO=[];var cP=t.getElementsByClassName(cj);if(cP&&cP.length){cO=cP}return cO};var cv=function(c1,cP){o("CallTracking: RenderPhone phone = "+c1);var cU=function(c3){return c3.split(/[^0-9]/).join("")};var cV=function(c6,c8){var db=null;if(!c6){return db}var c3=c8.split(",");if(c3.length<2){db=c8}else{var c4=c6.getAttribute("data-prefix");if(c4){for(var c7=0;c7<c3.length;c7++){var c9=c3[c7];var da=cU(c9);if(da.indexOf("8")===0){da="7"+da.substring(1)}var c5=da.split(c4)[0]==="";if(c5){db=c9;break}}}if(db===null){db=c3[0]}o("CallTracking._getPhoneForElement: Prepared phone = "+db+" for data-prefix = "+c4)}return db};var cS=function(c7,c5){var c3=cV(c7,c5);if(!c3||!c7){return}if(c7.tagName.toLowerCase()!=="a"){return}var c6=c7.getAttribute("href");if(cb(c6,"tel:")){var c4=cU(c3);if(c4.indexOf("8")===0){c4="7"+c4.substring(1)}c7.setAttribute("href","tel:+"+c4);
cT(c7,c3)}};var cT=function(c4,c3){if(!c4.hasAttribute("title")){return}c4.setAttribute("title",c3)};var cX=function(c5,c4){var c3=cV(c5,c4);if(!c3||!c5){return}c5.innerHTML=c3};var c2=function(c3){var c4=cL();o("CallTracking: render phone default classes for "+c4.length+" elements");m(c4,function(c5){cX(c5,c3);cS(c5,c3)});m(cx(),function(c6){var c5=cU(cV(c6,c3)).slice(0,1);cX(c6,c5)});m(cw(),function(c6){var c7=cV(c6,c3).match(/\((.*)\)/);if(c7!==null){var c5=c7[1];cX(c6,c5)}});m(cB(),function(c7){var c5=cV(c7,c3).match(/\)(.*)/);if(c5!==null){var c8=cU(c5[1]);var c6=c8.slice(-1*c8.length,-4)+"-"+c8.slice(-4,-2)+"-"+c8.slice(-2);cX(c7,c6)}});m(cE(),function(c5){cS(c5,c3)})};var c0=function(c3,c8){if(!c8){return}o("CallTracking: render phone user replacement for "+c8.length+" replacements");for(var c7=0;c7<c8.length;c7++){var da=c8[c7];if(!da){continue}var c5=da[0];da=da.substr(1);var c9=[];if(c5==="#"){var c6=t.getElementById(da);if(c6!==null){c9.push(c6)}}else{c9=t.getElementsByClassName(da);cR(da,c3)}if(!c9||c9.length<1){continue}o("CallTracking: render phone for "+da+", "+c9.length+" elements");for(var c4=0;c4<c9.length;c4++){cX(c9[c4],c3);cS(c9[c4],c3)}}};var cW=function(c3){for(var c4=0;c4<c3.length;c4++){c0(c3[c4].phone,c3[c4].css_selectors);cZ(c3[c4].phone,c3[c4].replaceable_numbers)}};var cZ=function(c5,c4){if(!c4||c4.length===0){return}var c3=function(){var dg=c9();var df=t.getElementsByTagName("*");var da=df.length;for(var de=0;de<da;de++){var dh=df[de];c6(dh,dg,cV(dh,c5));var dd=dh.childNodes.length;for(var db=0;db<dd;db++){var dc=dh.childNodes[db];c8(dc,dg,cV(dc,c5))}}};var c6=function(de,dd,da){if(!c7(de)){return}var df=de.getAttribute("href").replace("tel:","");var dc=dd.length;for(var db=0;db<dc;db++){if(dd[db].test(df)){cS(de,cV(de,da))}}};var c7=function(db){if(db.tagName.toLowerCase()!=="a"){return false}var da=db.getAttribute("href");return az(da)&&da.indexOf("tel:")===0};var c9=function(){var dc=[];for(var da=0;da<c4.length;da++){var db="[\\s()[\\]{}\\-+.]*";var dd=c4[da].split("").join(db);dc.push(new RegExp("[+(]?"+dd,"g"))}return dc};var c8=function(dd,dc,da){if(dd.nodeType!==Node.TEXT_NODE){return}for(var db=0;db<dc.length;db++){if(dd.textContent&&dc[db].test(dd.textContent)){dd.textContent=dd.textContent.replace(dc[db],da)}else{if(dd.innerText&&dc[db].test(dd.innerText)){dd.innerText=dd.innerText.replace(dc[db],da)}}}};c3()};var cR=function(c4,c3){m(cQ(c4+"-"+be),function(c6){var c5=cU(cV(c6,c3)).slice(0,1);cX(c6,c5)});m(cQ(c4+"-"+ap),function(c6){var c7=cV(c6,c3).match(/\((.*)\)/);if(c7!==null){var c5=c7[1];cX(c6,c5)}});m(cQ(c4+"-"+aP),function(c7){var c5=cV(c7,c3).match(/\)(.*)/);if(c5!==null){var c8=cU(c5[1]);var c6=c8.slice(-1*c8.length,-4)+"-"+c8.slice(-4,-2)+"-"+c8.slice(-2);cX(c7,c6)}});m(cQ(c4+"-"+bo),function(c5){cS(c5,c3)})};var cQ=function(c4){var c3=[];var c5=t.getElementsByClassName(c4);if(c5&&c5.length){c3=c5}return c3};var cY=function cY(){var c4=cz();if(c4){c4=c4.split("\n");for(var c3=0;c3<c4.length;c3++){c4[c3]="."+c4[c3]}}if(cP instanceof Array){cW(cP)}else{c2(c1);c0(c1,c4)}};(function cO(){cY();var c3=[300,5000,15000];c3.forEach(function(c4){setTimeout(cY,c4)})})()};var cy=function(cO){by.save(k,cO,bZ)};var cH=function(){if(bA.roistat.callTracking.phone){var cO={expires:parseInt(bA.roistat.callTracking.sessionTime),path:"/"};if(bZ.domain){cO.domain=bZ.domain}ck(cq,bA.roistat.callTracking.phone,cO);cy(1);by.save(a1,bA.roistat.callTracking.replacementClasses,bZ);by.save(aQ,bA.roistat.callTracking.phoneScriptsJson,bZ)}};var cF=function(cO,cS,cQ,cP){o("CallTracking: reuse phone "+cO+" for time "+cS+" and replacements "+cQ);if(!cM(cO)){o("CallTracking: new phone is invalid");roistat.callTracking.phone=null;cd();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=cO;roistat.callTracking.sessionTime=cS;roistat.callTracking.replacementClasses=cQ;roistat.callTracking.phoneScriptsJson=cP;cd();cH();var cT={expires:parseInt(cS),path:"/"};if(bZ.domain){cT.domain=bZ.domain}ck(cq,cO,cT);by.save(aQ,cP,bZ);by.save(a1,cQ,bZ);var cR=cg(cP);if(cR==null){cv(cO)}else{cv(cO,cR)}};var cA=function(){o("CallTracking: request new phone");var cO=h(bt);var cS=R();var cR=cS?cS:a2;var cQ=encodeURIComponent(bL);var cP=y()+"/get-phone?visit="+cO+"&marker="+(cR?cR:"")+"&prefix="+bQ+"&prefix_bind="+cr+"&phone_scripts_bind="+A+"&page="+cQ;av(cP)};var cC=function(){bQ=bA.roistatPhonePrefix?bA.roistatPhonePrefix:"";cr=bA.roistatPhonePrefixBind?bA.roistatPhonePrefixBind:"";A=bA.roistatCalltrackingScripts&&bA.roistatCalltrackingScripts.join?bA.roistatCalltrackingScripts.join(","):"";o("CallTracking: refresh phone with prefix: "+bQ+", binding: "+cr+", scripts: "+A);cA()};var cN=function(){var cO=by.get(k)>0;var cP=bl.callTrackingEnabled;return cO&&cP};var cD=function(cO){cy(cO.is_enabled)};var cK=function cK(){var cO=cI();if(!cM(cO)){o("CallTracking: invalid phone "+cO+", requesting a new one");cA()}else{o("CallTracking: render phone "+cO);var cP=cg(cG());if(cP==null){cv(cO)}else{cv(cO,cP)}}};
var cJ=function(){o("CallTracking: init");cH();if(!cN()){o("CallTracking: disabled, skip");return}if(bl.callTrackingManual){o("CallTracking: init finish because off manual");return}cK();ac(cK)};bA.roistatCallTrackingRefresh=cC;bA.roistatRequestNewPhone=cA;bA.roistatReusePhone=cF;bA.roistatCalltrackingUpdateSettings=cD;bM(cJ)})();(function r(){var cx=function(cD){o("Emailtracking: "+cD)};var cB=function(cD,cF,cE){by.save(aZ,cD,bZ);by.save(b,cF,bZ);by.save(bb,JSON.stringify(cE),bZ)};var cw=function(){var cD=(bA.roistat.emailtracking.email&&bA.roistat.emailtracking.trackingEmail)||aq(bA.roistat.emailtracking.emails);if(bA.roistat.emailtracking.loaded&&cD){cx("save loaded email: "+bA.roistat.emailtracking.email);cB(bA.roistat.emailtracking.email,bA.roistat.emailtracking.trackingEmail,bA.roistat.emailtracking.emails)}else{cx("settings save skip, because not loaded");bA.roistat.emailtracking.email=by.get(aZ);bA.roistat.emailtracking.email=bA.roistat.emailtracking.email?bA.roistat.emailtracking.email:null;bA.roistat.emailtracking.email=bA.roistat.emailtracking.email==="null"?null:bA.roistat.emailtracking.email;cx("email loaded from storage: "+bA.roistat.emailtracking.email);bA.roistat.emailtracking.trackingEmail=by.get(b);bA.roistat.emailtracking.trackingEmail=bA.roistat.emailtracking.trackingEmail?bA.roistat.emailtracking.trackingEmail:null;bA.roistat.emailtracking.trackingEmail=bA.roistat.emailtracking.trackingEmail==="null"?null:bA.roistat.emailtracking.trackingEmail;cx("tracking email loaded from storage: "+bA.roistat.emailtracking.trackingEmail);bA.roistat.emailtracking.emails=cg(by.get(bb));bA.roistat.emailtracking.emails=bA.roistat.emailtracking.emails?bA.roistat.emailtracking.emails:null;cx("emails loaded from storage: "+JSON.stringify(bA.roistat.emailtracking.emails))}};var cz=function(cD){cB(cD.email,cD.trackingEmail,cD.emails)};var cy=function(){var cD=(!!bA.roistat.emailtracking.email&&!!bA.roistat.emailtracking.trackingEmail)||aq(bA.roistat.emailtracking.emails);return bA.roistat.emailtracking.enabled&&cD};var cv=function(){if(!cy()){cx("emailtracking disabled, skip swapping");return}var cE=function(cI,cJ,cH){if(cI.href){if(cJ.test(cI.href)){cI.href=cI.href.replace(cJ,cH);return true}}if(cI.nodeType!==3){return false}if(cI.textContent&&cJ.test(cI.textContent)){cI.textContent=cI.textContent.replace(cJ,cH);return true}else{if(cI.innerText&&cJ.test(cI.innerText)){cI.innerText=cI.innerText.replace(cJ,cH);return true}}return false};var cD=function(cH){return cH.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var cF=function(cJ,cI){var cH=!cI.match(/[a-z]/);return cH?cJ.toUpperCase():cJ};var cG=function(cP,cR){var cS=cD(cP);var cJ=new RegExp("(^|\\s)(mailto:)?("+cS+")($|\\s|\\?)","gi");var cT=function(cY,cW,cU,cV,cX){cU=cU||"";return cW+cU+cF(cR,cV)+cX};cx("starting to replace email "+cP+" to "+cR+" with regexp "+cJ);var cI=t.getElementsByTagName("*");var cL=cI.length;cx("found "+cL+" nodes on page");var cO=0;for(var cN=0;cN<cL;cN++){var cK=cI[cN];var cQ=cK.childNodes.length;if(cQ>0){for(var cM=0;cM<cQ;cM++){var cH=cK.childNodes[cM];if(cE(cH,cJ,cT)){cO++}}}if(cE(cK,cJ,cT)){cO++}}cx("successfully replaced "+cO+" nodes")};if(bA.roistat.emailtracking.emails){aT(bA.roistat.emailtracking.emails,cG)}else{cG(bA.roistat.emailtracking.email,bA.roistat.emailtracking.trackingEmail)}};var cA=function(){cx("process email swap");cv();setTimeout(function(){cv()},300);setTimeout(function(){cv()},5000);setTimeout(function(){cv()},15000)};var cC=function(){cx("init");ac(cA);cw();cA()};bA.roistatEmailtrackingUpdateSettings=cz;bA.roistat.emailtracking.refresh=cv;bM(cC)})();(function aV(){var cy=function(cA){o("MultiDomain: "+cA)};var cx=function(){return by.get(b0)>0};var cw=function(cE){var cF=function(cH){if(!cH){return false}if(cb(cH,"roistat_visit")){return false}var cG=aG(cH);var cJ=aG(t.domain);var cI=new RegExp(/^(https?:\/\/)?([A-Z-0-9\_\-\~]+\.)+[A-Z-0-9\_\-\~]+/i);return cG!==cJ&&cI.test(cH)};var cD=function(cJ){var cK=cJ.split("#");var cI=cK[0].split("?");var cG="";var cH="";if(cI.length===2){cG=cI[1]}if(cG){cH="&"}cG=cG+cH+"roistat_visit="+roistat.getVisit();cI[1]=cG;cK[0]=cI.join("?");return cK.join("#")};if(cE.tagName.toLowerCase()!=="a"){return}var cC=cE.getAttribute("href");var cB=false;if(cF(cC)){var cA=cD(cC);cy("update url "+cC+" > "+cA);cE.setAttribute("href",cA);cB=true}return cB};var cv=function(){if(!cx()){cy("disabled, skip");return}var cA=t.getElementsByTagName("a");var cB=cA.length;cy("found "+cB+" <a> nodes on page");var cE=0;for(var cC=0;cC<cB;cC++){var cD=cA[cC];if(cw(cD)){cE++}}cy("replaced "+cE+" nodes")};var cz=function(){cy("init");cv();setTimeout(function(){cv()},300);setTimeout(function(){cv()},5000);setTimeout(function(){cv()},15000)};bM(cz)})();(function b8(){var cD=2*60*1000;var cw="roistat_last_settings_update_time";var cv=function(cF){o("SettingsUpdater: "+cF)};var cz=function(){return by.get(cw)};var cB=function(){by.set(cw,bC())};var cC=function(){var cG=cz();var cF=!(cG>0);
cv("is first update check: lastUpdateTime="+cG+", result="+(cF?1:0));return cF};var cE=function(){var cH=bC()-cD;var cG=cz();var cF=cG<=cH;cv("expiration check: _minTime="+cH+", lastUpdateTime="+cG+", result="+(cF?1:0));return cF};var cy=function(){var cF=h(bt);a(cF)};var cx=function(cF){cv("update settings and save last update time");bA.roistatCalltrackingUpdateSettings(cF.calltracking);bA.roistatEmailtrackingUpdateSettings(cF.emailtracking);bA.roistatSaveLeadHunterTemplates(cF.leadhunter_templates.form_template,cF.leadhunter_templates.pulsator_template,cF.leadhunter_templates.pulsator_settings);bA.roistatSaveProxyFormSettings(cF.proxy_forms);aJ(cF.js_settings);bw.isSettingsUpdating=false;cB()};var cA=function(){cv("init");if(cC()){cv("in first update we just start first timer and skip");cB();return}if(!cE()){cv("update is not not expired, skip");return}cv("start to update settings");cy()};bM(function(){bA.roistatUpdateSettings=cx;setTimeout(function(){cA()},3000);cv("set interval to update settings");var cF=aD();var cG=cF.slice(-1);if(cG.charCodeAt(0)%2===0){cv("Project in focus group, set interval");setInterval(function(){cA()},60000)}})})();(function bi(cz,cv,cB){var cy={};var cw=function(cD){var cC=encodeURIComponent?encodeURIComponent:encodeURI;return cC(cD)};var cx=function(cJ,cD){o("Reach goal start");if(!cJ){cJ={}}var cG={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:bN(),is_skip_sending:0,items:"",placeholders_data:"",};for(var cF in cG){if(!Object.prototype.hasOwnProperty.call(cG,cF)){continue}if(!Object.prototype.hasOwnProperty.call(cJ,cF)){continue}if(!cJ[cF]){continue}if(cF==="fields"||cF==="client_fields"||cF==="items"||cF==="placeholders_data"){cJ[cF]=JSON.stringify(cJ[cF])}cG[cF]=cw(cJ[cF])}var cI=aD();var cH=aI()+"//"+p+"/api/site/"+M+"/"+cI+"/reach-goal?v=2";for(var cE in cG){if(!Object.prototype.hasOwnProperty.call(cG,cE)){continue}cH=cH+"&"+cE+"="+cG[cE]}if(cD!==cB){var cC=Math.random().toString();cy[cC]=cD;cH+="&callback_key="+cC}av(cH);o("Reach goal completed")};var cA=cz.roistatGoal={reach:function(cD,cC){cx(cD,cC)},callAfterReachCallback:function(cC){if(Object.prototype.hasOwnProperty.call(cy,cC)){cy[cC]();delete cy[cC]}}}})(bA,t,a8);(function cm(cx,cv,cy){var cw=function(cD){if(cD instanceof Array||cD===null||typeof cD!=="object"){o("Invalid event data");return""}var cA=[];for(var cC in cD){if(Object.prototype.hasOwnProperty.call(cD,cC)){var cB=cD[cC];if(typeof cB==="string"||typeof cB==="number"){cA.push("data["+encodeURIComponent(cC)+"]="+encodeURIComponent(cB))}else{o("Event data property ignored: "+cC)}}}return cA.length>0?"&"+cA.join("&"):""};var cz=function(cC,cD){o("Send event start");var cA=l();var cB=y()+"/event/register?visit="+cA+"&event="+cC+cw(cD);av(cB);o("Send event completed")};cx.roistat.event={send:function(cA,cB){cz(cA,cB)}}})(bA,t,a8);(function bz(cF,cH,cy){var cI=cF.roistatIsInitVisit===true?20000:10000;var cx=(new Date()).getTime();var cw=function(cM){return"approve_visit_"+cM};var cE=function(cM){bq.set(cw(cM),1)};var cJ=function(cM){return bq.get(cw(cM))>0};var cv,cA,cL=[];if(cH.addEventListener){cv=function(cN,cM,cO){return cN.addEventListener(cM,cO,false)};cA=function(cN,cM,cO){return cN.removeEventListener(cM,cO,false)}}else{cv=function(cN,cM,cO){return cN.attachEvent("on"+cM,cO)};cA=function(cN,cM,cO){return cN.detachEvent("on"+cM,cO)}}var cD=function(cP){if(cL.length>30){return}cP=cP||cF.event;if(!cP||!cP.screenX){return}var cO=(new Date()).getTime();var cR,cQ=null;if(cL.length>0){cQ=cL[cL.length-1]}if(cQ){cR=cO-cQ.time}else{cR=cO-cx}if(cR<300){return}cR=cR-300;var cT=0;var cM=cP.screenX;var cS=cP.screenY;if(cQ){cT=parseInt(Math.sqrt(Math.pow(cQ.y-cS,2)+Math.pow(cQ.x-cM,2)))}var cN={time:cO,pauseBeforeMove:cR,x:cM,y:cS,distance:cT};cL.push(cN)};var cC=function(){var cM=[];m(cL,function(cN){var cO=[cN.pauseBeforeMove,cN.distance];cM.push(cO.join(":"))});if(cM.length===0){cM.push("0:0")}return cM.join("|")};var cz=function(){for(var cM in cF){if(cb(cM,"yaCounter")){return true}}return false};var cG=function(){cA(cH,"mousemove",cD);var cM=l();o("VisitApprove: start for visit "+cM);if(cJ(cM)){o("VisitApprove: visit already approved, skip");return}cE(cM);ae();var cN=y()+"/approve?v="+D+"&visit="+cM;if(cK()){cN+="&hash="+Y()}if(cB()){cN+="&page_params="+encodeURIComponent(JSON.stringify(cF.roistat.page.params));e()}cN+="&mv="+cC();cN+="&pl="+(cF.navigator?cF.navigator.platform:"");cN+="&ym="+(cz()?"1":"0");av(cN)};var cK=function(){var cQ=bw.cookies,cP=j();var cS=aM();for(var cN=0;cN<cS.length;cN++){var cR=cS[cN];var cT=Object.prototype.hasOwnProperty.call(cQ,cR)?cQ[cR]:cy;var cM=Object.prototype.hasOwnProperty.call(cP,cR)?cP[cR]:cy;var cO=typeof cM==="string"&&cM.length>0;if(cO&&cT!==cM){return true}}return false};var cB=function(){var cR=bw.pageParams,cO=cF.roistat.page.params;for(var cN=0;cN<bR.length;cN++){var cM=bR[cN];var cP=Object.prototype.hasOwnProperty.call(cR,cM)?cR[cM]:null;
var cQ=Object.prototype.hasOwnProperty.call(cO,cM)?cO[cM]:null;if(cQ!==cP){return true}}return false};setTimeout(function(){cG()},cI);cv(cH,"mousemove",cD)})(bA,t,a8);(function ad(cA,cB,cw){var cy=function(){return F("roistat_ab_demo")==="1"};var cC=function(cF){return new RegExp(cF.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var cz=function(cK){var cF=cA.location.href,cI=cK.filter,cO=cK.filterValue;var cL;switch(cI){case"except":case"pages":var cG,cN,cM=false;cN=cF?ao(cF):"";cL=cO?cO.split("\n"):[];if(cN&&cL.length!==0){for(var cH=0;cH<cL.length;cH++){var cJ=cL[cH].trim();if(cJ.length===0){continue}cG=cC(cJ);if(cG.test(cN)){cM=true;break}}}return(cI==="pages")?cM:!cM;break;case"all":default:return true}};var cv=function(cH){var cF=cB.getElementsByTagName("head")[0],cG;cG=cB.createElement("style");cG.setAttribute("type","text/css");if(cG.styleSheet){cG.styleSheet.cssText=cH.value}else{cG.innerText=cH.value}cF.appendChild(cG)};var cx=function(cF){if(cz(cF)){switch(cF.type){case"css":cv(cF);break}}};cA.applyTests=function(){var cF=by.getObject("abTesting");var cH,cG;for(cH in cF){if(!Object.prototype.hasOwnProperty.call(cF,cH)){continue}cG=cF[cH];cx(cG)}};var cD=function(){o("Call: apply demo AB test");var cF=F("roistat_ab_data");var cG;if(cF===null){return}else{cG=JSON.parse(bD.decode(cF))}if(typeof cG!=="object"){o("Error: testValue is not an object.");return}cx(cG)};function cE(){var cF=cy();if(!b5&&!cF){applyTests()}if(cF){cD()}}cE()})(bA,t,a8);(function aK(cw,cv,cx){if(!b7){return}setTimeout(function(){(function(cE,cD,cH,cG,cB,cz,cC){cE[cB]={COUNTER_ID:cz,HOST:cC};var cA=cD.location.protocol=="https:"?"https://":"http://";var cy=cD.createElement(cH);cy.async=1;cy.src=cA+cC+cG;var cF=cD.getElementsByTagName(cH)[0];cF.parentNode.insertBefore(cy,cF)})(cw,cv,"script","/counter.js","datamap",aD(),b7)},1000)})(bA,t,a8);(function bx(cx,cv,cy){var cz=function(){var cA=cx.roistatMetrikaCounterId;if(cA){by.set(ax,cA)}};var cw=function(cF){var cA="yaCounter"+cF;var cE=100,cC=0,cD=60000;var cB=function(){cC+=cE;o("YandexMetrika: trying to access counter "+cF);if(cx[cA]===cy){if(cC<cD){setTimeout(cB,cE);cE*=2}return}var cG={};cG[bW]=l();cx[cA].params(cG);o("YandexMetrika: visit id "+cG[bW]+" sent to counter "+cF)};setTimeout(cB,cE)};bM(function(){cz();var cC=by.get(ax);if(!cC){o("YandexMetrika: counter id not found");return}var cB=String(cC).split(",");o("YandexMetrika: counters: "+cB);for(var cA=0;cA<cB.length;cA++){if(cB[cA].trim()===""){continue}cw(cB[cA])}})})(bA,t,a8);(function Z(cF,cJ){var cN=function(cQ){o("Proxy Forms: "+cQ)};var cC=function(){if(cF.roistat.proxyForms.loaded&&cF.roistat.proxyForms.settings.length>0){cN("save loaded settings");cK(cF.roistat.proxyForms.settings)}else{cN("settings not loaded, getting from storage");cF.roistat.proxyForms.settings=by.getObject(cl)||[]}};var cK=function(cQ){by.setObject(cl,cQ)};var cG=function(){cN("init form listener");cy(cF.roistat.proxyForms.settings);cv(cF.roistat.proxyForms.settings)};var cP=function(cQ){return cQ.hasOwnProperty("hosts")&&cQ.hasOwnProperty("is_excluding_hosts")&&aY(cQ.hosts)&&cQ.hosts.length>0};var cA=function(cR){if(!cP(cR)){return true}var cS=ce(cR.hosts,cF.location.host);var cQ=Boolean(cR.is_excluding_hosts);return cQ?!cS:cS};var cx=function(cR){var cQ=[];m(cR,function(cS){if(cA(cS)){cQ.push(cS)}});return cQ};var cv=function(cQ){var cS=[];m(cQ,function(cT){if(cT.type==="js-button"){cS.push(cT)}});if(cS.length<1){cN("no button settings");return}var cR;if(cJ.addEventListener){cR=function(cT){cB(cS,cT,cT.target,cz)};cJ.addEventListener("click",cR,true)}else{if(cJ.attachEvent){cR=function(){var cT=cF.event;cB(cS,cT,cT.srcElement,cz,true)};cJ.attachEvent("onclick",cR)}else{cN("Listener could not be attached")}}};var cy=function(cR){var cQ=[];m(cR,function(cT){if(cT.type==="form"){cQ.push(cT)}});if(cQ.length<1){cN("no form settings");return}if(cJ.addEventListener){var cS=function(cT){cB(cQ,cT,cT.target,cO)};cJ.addEventListener("submit",cS,true)}else{if(cJ.attachEvent){setInterval(function(){if(af){cQ=cx(cQ)}var cT=cJ.getElementsByTagName("form");m(cT,function(cU){if(cU.getAttribute("data-roistat-proxy-form-checked")==="true"){return}cU.setAttribute("data-roistat-proxy-form-checked","true");m(cQ,function(cV){if(cw(cU,cV.selector)){cU.attachEvent("onsubmit",function(){cF.event.returnValue=false;cO(cV,cF.event.srcElement)})}})})},2000)}else{cN("Listener could not be attached")}}};var cB=function(cT,cU,cV,cS,cQ){var cW=cT;if(af){cW=cx(cW)}var cR=null;m(cW,function(cX){if(cw(cV,cX.selector)){cR=cX}});if(cR===null){cN("No matched settings found for listener");return}cS(cU,cR,cV,cQ)};var cO=function(cU,cS,cT,cR){var cQ=cI(cT,cS);if(!cL(cQ,cS)){return}cR?cU.returnValue=false:cU.preventDefault();cD(cQ,cS,function(){HTMLFormElement.prototype.submit.call(cT)})};var cz=function(cS,cR){var cQ=cI(null,cR);if(!cL(cQ,cR)){return}cD(cQ,cR)};var cD=function(cQ,cT,cV){var cU={};var cS=cE(cT.crm)&&cT.crm.hasOwnProperty("is_enabled");var cR=cS?cT.crm.is_enabled:true;
cU.leadName="    "+cT.title;cU.formTitle=cT.title;cU.name=cQ.name;cU.phone=cQ.phone;cU.email=cQ.email;cU.text=cQ.comment;cU.fields=cQ.fields;cU.placeholders_data=cQ.placeholdersData;cU.is_need_callback=cT.is_need_callback;cU.is_skip_sending=!cR;cF.roistatGoal.reach(cU,cV)};var cE=function(cQ){return(typeof cQ==="number"&&!isNaN(cQ))||(typeof cQ==="string"&&cQ!=="")||(typeof cQ==="object"&&cQ!==null)||(typeof cQ==="boolean"&&cQ)||aY(cQ)};var cL=function(cQ,cS){var cR=[],cU=["name","email","phone","comment"];m(cU,function(cV){if(cS.hasOwnProperty(cV)&&cS[cV].required>0){cR.push(cV)}});if(aY(cS.fields)){m(cS.fields,function(cV){if(cV.required>0){cR.push(cV)}})}var cT=true;m(cR,function(cV){if(!cQ.hasOwnProperty(cV)||!cE(cQ[cV])){cT=false}});return cT};var cI=function(cS,cR){var cQ={};cQ.name=cR.name?cH(cS,cR.name.value,cR.name.type):"";cQ.phone=cR.phone?cH(cS,cR.phone.value,cR.phone.type):"";cQ.email=cR.email?cH(cS,cR.email.value,cR.email.type):"";cQ.comment=cR.comment?cH(cS,cR.comment.value,cR.comment.type):"";cQ.fields={};cQ.placeholdersData={orderPage:bL,};if(aY(cR.fields)){m(cR.fields,function(cT){cQ.fields[cT.name]=cH(cS,cT.value,cT.type)})}return cQ};var cH=function(cR,cU,cQ){switch(cQ){case"plain":return cU||"";case"input":var cT=cR.querySelector('input[name="'+cU+'"]');return cT?cT.value:"";case"js":try{return(new Function(cU))()}catch(cS){return""}}};var cM=function(){cN("init");if(!cF.roistat.proxyForms.enabled){cN("disabled");return}cC();cG()};var cw=function(cS,cQ){if(typeof Element!=="undefined"&&Element.prototype.matches){return cS.matches(cQ)}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){return cS.matchesSelector(cQ)}else{if(cJ.querySelectorAll){var cT=cJ.querySelectorAll(cQ);for(var cR=0;cR<cT.length;cR++){if(cT[cR]===cS){return true}}return false}}}return false};bM(cM);cF.roistatSaveProxyFormSettings=cK})(bA,t);(function x(){if(bA.onRoistatAllModulesLoaded!==a8&&typeof bA.onRoistatAllModulesLoaded==="function"){bA.onRoistatAllModulesLoaded()}})();(function aE(cC,cF,cz){var cv=function(){return by.get(U)*1>0};var cE=function(cL){o("Request listener: "+cL)};var cK=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var cD=/^[^\s]+[@][^\s]+$/g;var cy=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var cx=function cx(){cE("listen");if(cC.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function cN(cQ){var cP=this;cG(cP.responseURL,cQ,function(){cP.oldSend(cQ)})}XMLHttpRequest.prototype.send=cN}if(cC.ActiveXObject){var cM=cO;function cO(cR){var cP=new cM(cR);var cS={};if(cR.toLowerCase()==="msxml2.xmlhttp"){cS={_ax:cP,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var cQ="";cS._onReadyStateChange=function(){var cT=cS;return function(){cT.readyState=cT._ax.readyState;if(cT.readyState===4){cT.responseText=cT._ax.responseText;cT.responseXml=cT._ax.responseXml;cT.status=cT._ax.status;cT.statusText=cT._ax.statusText}if(cT.onReadyStateChange){cT.onReadyStateChange()}}}();cS.open=function(cX,cV,cW,cT,cU){cQ=cV;cW=(cW!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(cX,cV,cW,cT,cU)};cS.send=function(cT){var cU=this;cG(cQ,cT,function(){this._ax.send(cT)})}}else{cS=cP}return cS}cC.ActiveXObject=cO}if(cC.fetch){var cL=fetch;fetch=function(cP,cQ){cG(cP.url,cQ||{});return cL(cP,cQ||{})}}cC.addEventListener("submit",function(cS){var cU=cS.target.elements;var cT={};for(var cR=0;cR<cU.length;cR++){var cQ=cU[cR];var cP=cQ.getAttribute("name");cT[cP]=cQ.value}cG("",cT)})};function cA(cL){var cO={};if(cL.length===0){return cO}var cN=cL.split("?");if(cN.length<2){return cO}var cM=cN[1];cO=cw(cM);return cO}function cw(cM){var cN=cM.split("&"),cP={};for(var cL=0;cL<cN.length;cL++){var cO=cN[cL].split("=");if(cO.length<2){continue}cP[cO[0]]=cO[1]}return cP}function cI(c2){cE("data: "+JSON.stringify(c2));var cV={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"],};var cS={email:"",phone:"",name:""};for(var cL in cV){var cY=cV[cL];for(var cX in cY){if(cY.hasOwnProperty(cX)){if(c2.hasOwnProperty(cY[cX])){cS[cL]=c2[cY[cX]];break}}}}cE("new data: "+JSON.stringify(cS));var cN=cS.phone.length===0;var cR=cS.email.length===0;if(!cN&&!cR){return cS}var cM=new RegExp(cD);var cQ=new RegExp(cK);var cT=Object.keys(c2);for(var cZ=0;cZ<cT.length;cZ++){var cW=decodeURIComponent(String(c2[cT[cZ]]));if(cR){var cO=cW.match(cM);if(cO&&cO.length>0){var cU=cS.email;cS.email=cO[0];cE("parsing email, before: "+cU+", after: "+cS.email)}}if(cN){var c1=cW.replace(/[\s-.()+*_:;'"`]/g,"");var c0=c1.match(cQ);if(c0&&c0.length>0){var cP=cS.phone;cS.phone=cW;cE("parsing phone, before: "+cP+", after: "+cS.phone)}}}return cS}var cB=function(cL){var cM=aG(cL);return !aa(cy,cM)
};function cG(cN,cM,cL){if(cN.length>0&&!cB(cN)){return}var cP=cA(cN);var cR=cM;if(typeof cR==="string"){cR=cw(cR)}cE("data before parsing "+JSON.stringify({get:cP,post:cR}));var cQ=cI(cP);var cO=cI(cR);cE("data after parsing "+JSON.stringify({get:cQ,post:cO}));cH(cQ,cO,cL)}function cH(cL,cN,cR){var cQ=cL.email.length>0?cL.email:cN.email;var cM=cL.phone.length>0?cL.phone:cN.phone;var cP=cL.name.length>0?cL.name:cN.name;if(cQ.length==0&&cM.length==0){cR();return}setTimeout(function(){cR()},100);var cO={leadName:"   ",name:cP,phone:cM,email:cQ,is_skip_sending:1};cE("phone or email is not empty, reaching goal "+JSON.stringify(cO));roistatGoal.reach(cO)}(function cJ(){if(!cv()){cE("disabled, skip");return}cx()})()})(bA,t,a8)})(window,document,undefined);